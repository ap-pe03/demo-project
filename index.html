<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <title>Consultants CRUD Demo</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 2rem; }
    input, button { margin: 0.2rem; padding: 0.5rem; }
    .record { border: 1px solid #ccc; padding: 0.5rem; margin: 0.5rem 0; }
  </style>
</head>
<body>
  <h1>Consultants CRUD (Firebase)</h1>

  <h2>Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î”ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„Î±Ï‚</h2>
  <input id="name" placeholder="ÎŸÎ½Î¿Î¼Î±Ï„ÎµÏ€ÏÎ½Ï…Î¼Î¿">
  <input id="date" type="date">
  <input id="comments" placeholder="Î Î±ÏÎ±Ï„Î·ÏÎ®ÏƒÎµÎ¹Ï‚">
  <button onclick="addRecord()">Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·</button>

  <h2>Î”ÎµÎ´Î¿Î¼Î­Î½Î±</h2>
  <div id="records"></div>

  <script>
    // ğŸ‘‰ Î’Î¬Î»Îµ ÎµÎ´Ï Ï„Î¿ config Î±Ï€ÏŒ Ï„Î¿ Firebase Console
    const firebaseConfig = {
      apiKey: "AIzaSyDGQZYLRw33hAda1exLA5C2d-DtnwKTWKM",
      authDomain: "fir-project-10ec9.firebaseapp.com",
      projectId: "fir-project-10ec9",
    };

    // Init Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    const recordsDiv = document.getElementById("records");

    // Create
    function addRecord() {
      const name = document.getElementById("name").value;
      const date = document.getElementById("date").value;
      const comments = document.getElementById("comments").value;

      db.collection("activities").add({ name, date, comments })
        .then(() => {
          alert("Î‘Ï€Î¿Î¸Î·ÎºÎµÏÏ„Î·ÎºÎµ!");
          loadRecords();
        });
    }

    // Read
    function loadRecords() {
      recordsDiv.innerHTML = "";
      db.collection("activities").get().then(snapshot => {
        snapshot.forEach(doc => {
          const data = doc.data();
          const div = document.createElement("div");
          div.className = "record";
          div.innerHTML = `
            <b>${data.name}</b> (${data.date}) <br>
            ${data.comments} <br>
            <button onclick="deleteRecord('${doc.id}')">Î”Î¹Î±Î³ÏÎ±Ï†Î®</button>
          `;
          recordsDiv.appendChild(div);
        });
      });
    }

    // Delete
    function deleteRecord(id) {
      db.collection("activities").doc(id).delete().then(() => {
        alert("Î”Î¹Î±Î³ÏÎ¬Ï†Î·ÎºÎµ!");
        loadRecords();
      });
    }

    // Auto load
    loadRecords();
  </script>
</body>
</html>

